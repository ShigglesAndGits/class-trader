# ─────────────────────────────────────────────────────────────────────────────
# CLASS TRADER — Homelab Environment Template
# Copy this file to .env on your homelab server and fill in all values.
# Never commit .env to version control.
# ─────────────────────────────────────────────────────────────────────────────


# ── Registry ──────────────────────────────────────────────────────────────────
# IP address or hostname of the machine running the Docker registry (port 5000).
# Used by docker-compose.homelab.yml to pull images.
REGISTRY_HOST=192.168.x.x

# Public URL of the backend, reachable from your browser (not the Docker network name).
# This is what the frontend JavaScript uses to make API calls.
# Use the homelab server's LAN IP or a local hostname.
BACKEND_PUBLIC_URL=http://192.168.x.x:8000


# ── Anthropic ─────────────────────────────────────────────────────────────────
ANTHROPIC_API_KEY=sk-ant-your-key-here


# ── Alpaca ────────────────────────────────────────────────────────────────────
ALPACA_API_KEY=your-alpaca-key
ALPACA_SECRET_KEY=your-alpaca-secret
ALPACA_PAPER=true          # Set to false only when ready for live trading


# ── Finnhub ───────────────────────────────────────────────────────────────────
FINNHUB_API_KEY=your-finnhub-key


# ── Alpha Vantage ─────────────────────────────────────────────────────────────
ALPHA_VANTAGE_API_KEY=your-alphavantage-key


# ── Financial Modeling Prep ───────────────────────────────────────────────────
FMP_API_KEY=your-fmp-key


# ── Reddit (TendieBot) ────────────────────────────────────────────────────────
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret
REDDIT_USER_AGENT=class-trader:v0.1 (by /u/your-username)


# ── Database ──────────────────────────────────────────────────────────────────
# Keep POSTGRES_PASSWORD the same in DATABASE_URL below.
POSTGRES_USER=classtrader
POSTGRES_PASSWORD=change-me-please
POSTGRES_DB=class_trader
# "db" is the Docker Compose service name — do not change this hostname.
DATABASE_URL=postgresql+asyncpg://classtrader:change-me-please@db:5432/class_trader


# ── Apprise Notifications ─────────────────────────────────────────────────────
# Comma-separated Apprise URLs. Leave blank to disable notifications.
# Discord:  discord://webhook_id/webhook_token
# Telegram: tgram://bot_token/chat_id
# Email:    mailto://user:pass@gmail.com
# Slack:    slack://token_a/token_b/token_c
APPRISE_URLS=


# ── App Config ────────────────────────────────────────────────────────────────
AUTO_APPROVE=false
MAIN_SLEEVE_ALLOCATION=75.0
PENNY_SLEEVE_ALLOCATION=25.0
MAX_POSITION_PCT_MAIN=30.0
MAX_POSITION_DOLLARS_PENNY=8.0
MIN_CONFIDENCE_MAIN=0.65
MIN_CONFIDENCE_PENNY=0.60
DAILY_LOSS_LIMIT_MAIN_PCT=5.0
DAILY_LOSS_LIMIT_PENNY_PCT=15.0
CONSECUTIVE_LOSS_PAUSE=3
TIMEZONE=America/New_York
LOG_LEVEL=INFO


# ── Service Ports ─────────────────────────────────────────────────────────────
BACKEND_PORT=8000
FRONTEND_PORT=3000
